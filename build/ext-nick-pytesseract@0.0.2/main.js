module.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=4)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function a(t){return e.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,a){var r=a(5);function i(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,a){"use strict";var r=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(2)),o=r(a(3)),n=r(a(7)),c=r(a(8)),l=r(a(9)),u=r(a(10)),s=r(a(11)),g=a(12),d=r(a(13));(0,g.setLocaleData)(d.default);var I=function(){return(0,o.default)((function e(t,a){(0,i.default)(this,e),this.runtime=t,this.funcs=new s.default(t,a)}),[{key:"setLocale",value:function(e){(0,g.setLocale)(e)}},{key:"getCodePrimitives",value:function(){return this.funcs}},{key:"getInfo",value:function(){return{name:(0,g.formatMessage)({id:"gui.blocklyText.pytesseract.extensionName",default:"pytesseract"}),blockIconURI:l.default,menuIconURI:u.default,color1:"#A0522D",color2:"#8F4A2A",color3:"#7A3F24",blocks:[{opcode:"matplotlib_Iint",blockType:c.default.COMMAND,text:(0,g.formatMessage)({id:"gui.blocklyText.pytesseract.matplotlib_Iint",default:"初始化摄像头直到成功 编号[CAMNUM]"}),arguments:{CAMNUM:{type:n.default.NUMBER,defaultValue:0}}},{opcode:"matplotlib_Iintsize",blockType:c.default.COMMAND,text:(0,g.formatMessage)({id:"gui.blocklyText.pytesseract.matplotlib_Iintsize",default:"打开摄像头画面进行读取"})},{opcode:"matplotlib_rcParams",blockType:c.default.COMMAND,text:(0,g.formatMessage)({id:"gui.blocklyText.pytesseract.matplotlib_rcParams",default:"保存图片到文件夹 路径[PATH]返回识别内容[LIST]"}),arguments:{PATH:{type:n.default.STRING,inputParams:{symbol:'""'},defaultValue:"/root/pytesseract/pic/"},LIST:{type:n.default.STRING,defaultValue:"text"}}},{opcode:"drawText",blockType:c.default.COMMAND,text:(0,g.formatMessage)({id:"gui.blocklyText.pytesseract.drawText",default:"在摄像头画面上显示文字[TEXT]大小[SIZE] 颜色R[R]G[G]B[B] 坐标X[X]Y[Y]"}),arguments:{TEXT:{type:n.default.STRING,inputParams:{symbol:'""'},defaultValue:"你好"},SIZE:{type:n.default.NUMBER,defaultValue:25},R:{type:n.default.SLIDER,inputParams:{rangeMin:0,rangeMax:255},defaultValue:50},G:{type:n.default.SLIDER,inputParams:{rangeMin:0,rangeMax:255},defaultValue:200},B:{type:n.default.SLIDER,inputParams:{rangeMin:0,rangeMax:255},defaultValue:0},X:{type:n.default.NUMBER,defaultValue:10},Y:{type:n.default.NUMBER,defaultValue:20}}}]}}}])}();t.default=I},function(e,t,a){var r=a(1).default,i=a(6);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,a){var r=a(1).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={ANGLE:"angle",BOOLEAN:"Boolean",COLOR:"color",NUMBER:"number",STRING:"string",MATRIX:"matrix",NOTE:"note",IMAGE:"image",SETTINGS:"settings",FORMSETTING:"form_settings",TEXTPREVIEW:"text_preview",IMGPREVIEW:"img_preview",RANGE:"range",IMGSETTINGS:"img_setting",ONLINEIMGSETTING:"online_img_setting",DIRSETTINGS:"dir_setting",COLORPALETTE:"colour_palette",PIANO:"piano",MATRIXICONS:"matrix_icons",INFRAREDTEXT:"infraredBtn",SLIDER:"slider",TEXTAREA:"textarea",BUILTINIMG:"builtin_img",OBLOQPARAMETER:"obloq_initial_parameter",MQTTPARAMETER:"mqtt_setting_parameter",EVENTHEADINNER:"specialBlock_eventHead_origin"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={BOOLEAN:"Boolean",BUTTON:"button",COMMAND:"command",CONDITIONAL:"conditional",EVENT:"event",HAT:"hat",LOOP:"loop",REPORTER:"reporter",SUBMENU:"submenu"}},function(e,t,a){"use strict";a.r(t),t.default="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjgzNjAxNDYyNDk4IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI1NzkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTSAxMjcgMTI4IHYgMTI4IGggLTY0IFYgNjQgaCAxOTIgdiA2NCBoIC0xMjggWiBNIDEyNyA4OTYgaCAxMjggdiA2NCBoIC0xOTIgdiAtMTkyIGggNjQgdiAxMjggWiBNIDg5NSA4OTYgdiAtMTI4IGggNjQgdiAxOTIgaCAtMTkyIHYgLTY0IGggMTI4IFogTSA4OTUgMTI4IGggLTEyOCBWIDY0IGggMTkyIHYgMTkyIGggLTY0IFYgMTI4IFogTSAyNTYgMjU2IGggNTEyIHYgMTI4IEggMjU2IFogTSA0NDggMzg0IGggMTI4IHYgNDQ4IGggLTEyOCBaIiBmaWxsPSIjZmZmZmZmIiBwLWlkPSIyNTgwIj48L3BhdGg+PC9zdmc+DQo="},function(e,t,a){"use strict";a.r(t),t.default="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjgzNjAxNDYyNDk4IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI1NzkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTSAxMjcgMTI4IHYgMTI4IGggLTY0IFYgNjQgaCAxOTIgdiA2NCBoIC0xMjggWiBNIDEyNyA4OTYgaCAxMjggdiA2NCBoIC0xOTIgdiAtMTkyIGggNjQgdiAxMjggWiBNIDg5NSA4OTYgdiAtMTI4IGggNjQgdiAxOTIgaCAtMTkyIHYgLTY0IGggMTI4IFogTSA4OTUgMTI4IGggLTEyOCBWIDY0IGggMTkyIHYgMTkyIGggLTY0IFYgMTI4IFogTSAyNTYgMjU2IGggNTEyIHYgMTI4IEggMjU2IFogTSA0NDggMzg0IGggMTI4IHYgNDQ4IGggLTEyOCBaIiBmaWxsPSIjMDAwMDAwIiBwLWlkPSIyNTgwIj48L3BhdGg+PC9zdmc+DQo="},function(e,t,a){"use strict";var r=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(2)),o=r(a(3)),n=function(){return(0,o.default)((function e(t,a){(0,i.default)(this,e),this.runtime=t}),[{key:"matplotlib_Iint",value:function(e,t,a){var r=a.CAMNUM.code;return e.addImport("import time\nimport cv2\nimport pytesseract\nfrom PIL import Image,ImageFont,ImageDraw\nimport os\nimport numpy as np"),e.addInit("pytesseract_draw_chinese",'def drawChinese(text,x,y,size,r, g, b, a,img):\n    font = ImageFont.truetype("HYQiHei_50S.ttf", size)\n    img_pil = Image.fromarray(img)\n    draw = ImageDraw.Draw(img_pil)\n    draw.text((x,y), text, font=font, fill=(b, g, r, a))\n    frame = np.array(img_pil)\n    return frame'),"pytesseract.pytesseract.tesseract_cmd = r'/usr/bin/tesseract'\ncap = cv2.VideoCapture(".concat(r,")\ncap.set(cv2.CAP_PROP_FRAME_WIDTH, 240)\ncap.set(cv2.CAP_PROP_FRAME_HEIGHT, 320)\ncap.set(cv2.CAP_PROP_BUFFERSIZE, 1)\ncv2.namedWindow('cvwindow',cv2.WND_PROP_FULLSCREEN)\ncv2.setWindowProperty('cvwindow', cv2.WND_PROP_FULLSCREEN, cv2.WINDOW_FULLSCREEN)\nwhile not cap.isOpened():\n    continue")}},{key:"matplotlib_Iintsize",value:function(e,t,a){return"cv2.waitKey(5)\ncvimg_success, img_src = cap.read()\ncvimg_h, cvimg_w, cvimg_c = img_src.shape\ncvimg_w1 = cvimg_h*240//320\ncvimg_x1 = (cvimg_w-cvimg_w1)//2\nimg_src = img_src[:, cvimg_x1:cvimg_x1+cvimg_w1]\nimg_src = cv2.resize(img_src, (240, 320))\ncv2.imshow('cvwindow', img_src)"}},{key:"matplotlib_rcParams",value:function(e,t,a){var r=a.PATH.code;r=r.replace(/"/g,"");var i=a.LIST.code;return"".concat(i,' = []\ntry:\n    if not os.path.exists("').concat(r,'"):\n        print("The folder does not exist,created automatically")\n        os.system("mkdir -p ').concat(r,'")\nexcept IOError:\n    print("IOError,created automatically")\n    break\nimage_path = os.path.join("').concat(r,'", "image.png")\ncv2.imwrite(image_path,img_src)\ntime.sleep(0.2)\nimg = Image.open(image_path)\n').concat(i," = pytesseract.image_to_string(img, lang='chi_sim')")}},{key:"drawText",value:function(e,t,a){var r=a.TEXT.code,i=a.SIZE.code,o=a.R.code,n=a.G.code,c=a.B.code,l=a.X.code,u=a.Y.code;return"img_src = drawChinese(text=str(".concat(r,"),x=").concat(l,", y=").concat(u,",size=").concat(i,",r= ").concat(o,",g=").concat(n,",b=0,a=").concat(c,",img=img_src)\ncv2.imshow('cvwindow', img_src)")}}])}();t.default=n},function(e,t,a){"use strict";var r=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.formatMessage=function(e){if(!o)throw new Error("Translation Messages is empty.");if("string"==typeof e)return(o[n]||o.en||{})[e]||"";if("object"!==(0,i.default)(e)&&e.id)throw new Error("Error in translation: id cannot be empty.");return o[n]&&o[n][e.id]?o[n][e.id]:e.default||(o.en||{})[e]||""},t.getLocale=function(){return n},t.setLocale=function(e){n=e},t.setLocaleData=function(e){o=e};var i=r(a(1)),o=null;var n="en"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={en:{"gui.blocklyText.pytesseract.extensionName":"pytesseract","gui.blocklyText.pytesseract.matplotlib_Iint":"Initialize camera until success number[CAMNUM]","gui.blocklyText.pytesseract.matplotlib_Iintsize":"Open camera view for reading","gui.blocklyText.pytesseract.matplotlib_rcParams":"Save image to folder path[PATH] return recognized text[LIST]","gui.blocklyText.pytesseract.drawText":"Display text[TEXT] size[SIZE] color R[R] G[G] B[B] at X[X] Y[Y]"},"zh-cn":{"gui.blocklyText.pytesseract.extensionName":"pytesseract","gui.blocklyText.pytesseract.matplotlib_Iint":"初始化摄像头直到成功 编号[CAMNUM]","gui.blocklyText.pytesseract.matplotlib_Iintsize":"打开摄像头画面进行读取","gui.blocklyText.pytesseract.matplotlib_rcParams":"保存图片到文件夹 路径[PATH]返回识别内容[LIST]","gui.blocklyText.pytesseract.drawText":"在摄像头画面上显示文字[TEXT]大小[SIZE] 颜色R[R]G[G]B[B] 坐标X[X]Y[Y]"}}}]);